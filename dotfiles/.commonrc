# .commonrc
# An rc file that contains commands common to multiple shells
# (bash and zsh primarily). Other shells should source this
# file in their respective rc file.

# SHELL BASICS
# ----------

# set vim as the default editor if it's installed.
if command -v vim > /dev/null 2>&1; then
    export EDITOR=/usr/bin/vim
fi

# set vimpager as the default pager if it's installed.
if command -v vimpager > /dev/null 2>&1; then
    export PAGER=vimpager
fi

# add homebrew executables to the path
if [ -d "/usr/local/bin" ]; then
    export PATH=/usr/local/bin:$PATH
fi

# add go executables to the path
if [ -d "/usr/local/go" ]; then
    export PATH=/usr/local/go/bin:$PATH
    export GOPATH=$HOME/apps/gocode
fi

# add dotfiles bin to the path
export PATH=$HOME/bin:$PATH

# disable software flow control (so <c-s> and <c-q> don't cause the terminal to hang)
stty -ixon

# sets the tab title in iTerm2
title() {
  echo -ne "\033]0;"$*"\007"
}

# a better color scheme for ls
# see `man 1 ls` for details
export LSCOLORS=Cxcxcxdxbxagadabagacad

title $(hostname)

# LANGUAGE-SPECIFIC SETTINGS
# ----------

# python
export PYTHONDONTWRITEBYTECODE=1
export PIP_DOWNLOAD_CACHE=$HOME/.pip/cache
export VIRTUAL_ENV_DISABLE_PROMPT=true

syspip() {
    # create a shortcut to access the global pip installation,
    # since virtualenvs are required.
    PIP_REQUIRE_VIRTUALENV="" pip "$@"
}

# OTHER CONFIGURATION FILES
# ----------
source $HOME/.aliases

# $HOME/.private is a catch-all script that includes
# aliases, machine-specific configs, API keys,
# and other sensitive data that isn't included
# as part of the public repository.
source $HOME/.private 2> /dev/null
